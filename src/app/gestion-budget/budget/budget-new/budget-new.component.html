<p-toast></p-toast>
<!-- form budget info -->
<form *ngIf="'Budget'|creable" class="form" role="form" #budgetForm="ngForm" autocomplete="off">
    <p-fieldset legend="Creation utilisateur" [toggleable]="true">
        <!-- debut body -->
        <div class="row">
            <span *ngIf="exercices?.length==0" style="text-align: center; " class="col-sm-12 col-md-12 col-lg-12 alert alert-warning mt-2 "> 
                <h5 >Aucune année en cours paramétrée. Veuillez contacter l'administrateur!</h5>
            </span>
            <div class="col-lg-6">
                <div class="form-group">

                    <label class="col-form-label form-control-label" for="exercice">Exercice en cours</label> <br>
                    <p-dropdown [disabled]="true" required="true" [options]="exercices" name="exercices" [(ngModel)]="budget.exercice" autoDisplayFirst="true" optionLabel="libelle" [showClear]="true" emptyFilterMessage="Aucun exercice en cours, veuillez contacté l'adminstrateur!"
                        [filter]="true"></p-dropdown>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group">
                    <label class="col-form-label form-control-label" for="entite">Entite</label> <br>
                    <p-dropdown [options]="entites" required="true" name="entites" [(ngModel)]="budget.entite" placeholder="Selectionner entite" optionLabel="nom" [showClear]="true"></p-dropdown>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group">
                    <label class="col-form-label form-control-label" for="libelle">Libelle</label>
                    <input [(ngModel)]="budget.libelle" required="true" class="form-control" type="text" name="libelle" id="libelle">
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group">
                    <label class="col-form-label form-control-label" for="verrouille">Verrouille</label> <br>
                    <p-inputSwitch name="verrouille" [(ngModel)]="budget.verrouille"></p-inputSwitch>
                </div>
            </div>
        </div>
        <!-- fin body -->
        <p-toolbar>
            <button type="button" (click)="location.back()" class="btn btn-outline-secondary mr-1 pull-left"><i
          class="fa fa-reply" aria-hidden="true"></i>
        Retour</button>
            <button type="reset" class="btn btn-secondary pull-left"><i class="fa fa-eraser" aria-hidden="true"></i>
        Vider le formulaire</button>
            <button [disabled]="budgetForm.invalid" type="button" (click)="saveBudgetAndExit()" class="btn btn-outline-primary pull-right ml-1"> <i class="fa fa-save" aria-hidden="true"></i>
        Enregistrer</button>
            <button [disabled]="budgetForm.invalid" type="button" (click)="saveBudget()" class="btn btn-outline-primary pull-right"> <i class="fa fa-save" aria-hidden="true"></i>
        Enregistrer & Créer un autre</button>
        </p-toolbar>
    </p-fieldset>
</form>
<!-- /form budget info -->